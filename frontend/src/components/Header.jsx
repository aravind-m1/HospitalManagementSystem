import React, { useState, useContext } from 'react';import { Link, useNavigate } from 'react-router-dom';import { AppBar, Toolbar, Typography, Button, IconButton, Menu, MenuItem, Box, Avatar } from '@mui/material';import { Hospital, UserCircle, LogOut, Settings, Calendar, Users, UserPlus } from 'lucide-react';import { AuthContext } from '../context/AuthContext';const Header = () => {  const [anchorEl, setAnchorEl] = useState(null);  const { user, logout } = useContext(AuthContext);  const navigate = useNavigate();  const handleMenu = (event) => {    setAnchorEl(event.currentTarget);  };  const handleClose = () => {    setAnchorEl(null);  };  const handleLogout = () => {    logout();    navigate('/login');    handleClose();  };  const getInitials = (user) => {    if (!user) return '';    return `${user.firstName?.[0] || ''}${user.lastName?.[0] || ''}`.toUpperCase();  };  const getDashboardLink = (role) => {    switch (role) {      case 'admin':        return '/admin/dashboard';      case 'doctor':        return '/doctor/dashboard';      case 'patient':        return '/patient/dashboard';      default:        return '/';    }  };  return (    <AppBar position="static" sx={{ backgroundColor: '#2c3e50' }}>      <Toolbar>        <IconButton          size="large"          edge="start"          color="inherit"          aria-label="menu"          component={Link}          to="/"          sx={{ mr: 2 }}        >          <Hospital />        </IconButton>        <Typography variant="h6" component={Link} to="/" sx={{ flexGrow: 1, textDecoration: 'none', color: 'inherit' }}>          Hospital Management System        </Typography>        {user ? (          <Box sx={{ display: 'flex', alignItems: 'center' }}>            <Button               color="inherit"               component={Link}               to={getDashboardLink(user.role)}              startIcon={<UserCircle size={20} />}            >              Dashboard            </Button>            {user.role === 'admin' && (              <>                <Button                   color="inherit"                   component={Link}                   to="/admin/doctors"                  startIcon={<UserPlus size={20} />}                >                  Doctors                </Button>                <Button                   color="inherit"                   component={Link}                   to="/admin/patients"                  startIcon={<Users size={20} />}                >                  Patients                </Button>              </>            )}            {user.role === 'doctor' && (              <Button                color="inherit"                component={Link}                to="/doctor/appointments"                startIcon={<Calendar size={20} />}              >                Appointments              </Button>            )}            {user.role === 'patient' && (              <>                <Button                  color="inherit"                  component={Link}                  to="/patient/book-appointment"                  startIcon={<Calendar size={20} />}                >                  Book Appointment                </Button>                <Button                   color="inherit"                   component={Link}                   to="/patient/appointments"                  startIcon={<Calendar size={20} />}                >                  My Appointments                </Button>              </>            )}            <IconButton              size="large"              aria-label="account of current user"              aria-controls="menu-appbar"              aria-haspopup="true"              onClick={handleMenu}              color="inherit"            >              <Avatar sx={{ bgcolor: '#34495e' }}>                {getInitials(user)}              </Avatar>            </IconButton>            <Menu              id="menu-appbar"              anchorEl={anchorEl}              anchorOrigin={{                vertical: 'bottom',                horizontal: 'right',              }}              keepMounted              transformOrigin={{                vertical: 'top',                horizontal: 'right',              }}              open={Boolean(anchorEl)}              onClose={handleClose}            >              <MenuItem component={Link} to="/profile" onClick={handleClose}>                <UserCircle size={16} style={{ marginRight: 8 }} />                Profile              </MenuItem>              <MenuItem component={Link} to="/settings" onClick={handleClose}>                <Settings size={16} style={{ marginRight: 8 }} />                Settings              </MenuItem>              <MenuItem onClick={handleLogout}>                <LogOut size={16} style={{ marginRight: 8 }} />                Logout              </MenuItem>            </Menu>          </Box>        ) : (          <Box>            <Button              color="inherit"               component={Link}              to="/login"              startIcon={<UserCircle size={20} />}            >              Login            </Button>            <Button              color="inherit"               component={Link}              to="/register"              startIcon={<UserPlus size={20} />}            >              Register            </Button>          </Box>        )}      </Toolbar>    </AppBar>  );};export default Header; 